<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ChiantiPy</title>
  <style>
*{box-sizing:border-box}body{font-family:Arial,Helvetica,sans-serif}h1,h2,h3,h4,h5,h6{margin:0 0 20px 0;font-family:Arial,Helvetica,sans-serif}h1{color:#1d4787}h2{color:#5e6062}h3{color:#939393}h4,h5{color:#212121}h6{color:#5e6062}li{margin-bottom:.25em}pre,code{text-align:left;font-family:"Lucida Console",Monaco,monospace;color:#5e6062;background:#F8F8F8}a{text-decoration:none}a,a:visited{color:#212121}a:hover{color:#939393}img{vertical-align:inherit}blockquote{border-left:8px solid;padding-left:.5em;color:#939393;text-align:left;margin:1em 0}blockquote>p{margin:0}.remark-code{font-size:.9em}.remark-container{background:#333}.remark-slide-scaler{box-shadow:none}.remark-notes{font-size:1.5em}.remark-slide-content{font-size:28px;padding:0em 1em 1em 1em;color:#212121;background-size:cover}.remark-slide-number{color:#fff;right:1em;opacity:.6;font-size:0.8em;z-index:2}.no-counter .remark-slide-number{display:none}.impact{background-color:#1d4787;vertical-align:middle;text-align:center}.impact,.impact h1,.impact h2{color:#fff}.impact h1{font-size:80px}.full,.full h1,.full h2{color:#fff}.fulliframe{height:calc(66.66667% - 1.2em);width:66.66667%;transform:scale(1.5);transform-origin:0 0;border:0}.bottom-bar{background-color:#fff;color:#212121;position:absolute;bottom:0;left:0;right:0;font-size:20px;padding:.4em;text-align:left;z-index:1}.bottom-bar p{margin:0}.impact .bottom-bar,.full .bottom-bar{display:none}.colorstrip{background-color:#1d4787;position:absolute;height:52px;bottom:0;left:0;right:0;font-size:20px;padding:.4em;text-align:left;z-index:1}.colorstrip p{margin:0}.impact .colorstrip,.full .colorstrip{display:none}.school-logo{height:30px;float:right;padding-right:10px;vertical-align:bottom}.fa{color:#1d4787}.fa:hover{color:#939393}table{border-collapse:collapse}th,td{padding:4px;border:1px solid black}.side-layer{position:absolute;left:0;width:100%;padding:0 2em}.middle,.middle img,.middle span{vertical-align:middle}.top{vertical-align:top}.bottom{vertical-align:bottom}.inline-block p,.inline-block ul,.inline-block ol,.inline-block blockquote{display:inline-block;text-align:left}.no-margin,.no-margin>p,.no-margin>pre,.no-margin>ul,.no-margin>ol{margin:0}.no-padding{padding:0}.space-left{padding-left:1em}.space-right{padding-right:1em}.responsive>img{width:100%;height:auto}.contain{background-size:contain}.overlay{box-shadow:inset 0 0 0 9999px rgba(0,0,0,0.5)}.left{text-align:left}.right{text-align:right}.center{text-align:center}.justify{text-align:justify}.primary{color:#1d4787}.alt{color:#5e6062}.em{color:#939393}.thin{font-weight:200}.huge{font-size:2em}.big{font-size:1.5em}.small{font-size:.8em}.dark-bg{background-color:#333}.alt-bg{background-color:#5e6062}.row{width:100%}.row::after{content:'';display:table;clear:both}.row.table{display:table}.row.table [class^="col-"]{float:none;display:table-cell;vertical-align:inherit}[class^="col-"]{float:left}[class^="col-"].inline-block{float:none;display:inline-block}.col-1{width:8.33333%}.col-2{width:16.66667%}.col-3{width:25%}.col-4{width:33.33333%}.col-5{width:41.66667%}.col-6{width:50%}.col-7{width:58.33333%}.col-8{width:66.66667%}.col-9{width:75%}.col-10{width:83.33333%}.col-11{width:91.66667%}.col-12{width:100%}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.animation-fade{animation-duration:300ms;animation-fill-mode:both;animation-timing-function:ease-out}.remark-visible .animation-fade{animation-name:fadeIn}@page{size:1210px 681px;margin:0}@media print{.remark-slide-scaler{width:100% !important;height:100% !important;transform:scale(1) !important;top:0 !important;left:0 !important}}

</style>
  <script src="remark.min.js"></script>
  <!-- MathJax Local install -->
  <!--<script type="text/javascript" src="node_modules/mathjax/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured"></script>-->
  <!-- Mathjax CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured" type="text/javascript"></script>
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script>
    // Backslide setup
    function create() {
      return remark.create({
        source: "title: ChiantiPy\nclass: animation-fade\nlayout: true\n\n<!-- This slide will serve as the base layout for all your slides -->\n.colorstrip[\n]\n.bottom-bar[\n    <a href=\"https://wtbarnes.github.io/chiantipy-talk-scipy-2017/\">\n    wtbarnes.github.io/chiantipy-talk-scipy-2017\n    </a>\n    <img src=\"img/gm_logo_white_190.gif\" class=\"school-logo\">\n    <img src=\"img/rice_owl_logo.transparent.png\" class=\"school-logo\">\n]\n\n---\n\nclass: impact\n\n<h1><img src=\"img/chiantipy-logo.png\" height=\"150px\" style=\"vertical-align:bottom\">{{title}}</h1>\n## A Python Package for Astrophysical Spectroscopy\n### 2017 SciPy Conference &ndash; Austin, TX\n## Will Barnes<sup id=\"rice\">1</sup>, Ken Dere<sup id=\"gm\">2</sup>\n### 14 July 2017\n##### <sup id=\"rice\">1</sup> Dept. of Physics & Astronomy, Rice University, Houston, TX \n##### <sup id=\"gm\">2</sup> Dept. of Physics & Astronomy, George Mason University, Fairfax, VA  \n###### Built with [backslide](https://github.com/sinedied/backslide) and [Remark.js](https://github.com/gnab/remark)\n\n---\nclass: middle\n\n# Contact Info\n.col-1[\n  &zwnj;\n]\n.col-4[\n<a href=\"https://github.com/wtbarnes\">\n<i class=\"fa fa-github-alt fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>wtbarnes</a>\n\n<a href=\"https://twitter.com/wtbarnes_\">\n<i class=\"fa fa-twitter fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>\nwtbarnes_</a>\n]\n.col-7[\n<a href=\"http://wtbarnes.github.io/\">\n<i class=\"fa fa-globe fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>wtbarnes.github.io</a>\n\n<a href=\"mailto:will.t.barnes@gmail.com\">\n<i class=\"fa fa-envelope fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>will.t.barnes@gmail.com</a>\n]\n\n---\nclass:full,middle,center\nbackground-image: url(\"img/sdo_aia_211.png\")\nbackground-size: contain\n\n---\nclass:full,middle,center\nbackground-image: url(\"img/iris_20150428_100823_0.gif\")\nbackground-size: contain\n---\nclass:full,middle,center\nbackground-image: url(\"img/hinode_eis_fe12_195.png\")\nbackground-size: contain\n\n---\nclass: middle,center\n# CHIANTI\n## \"An Atomic Database for Diagnostics of Astrophysical Plasmas\"\n### Collaboration between:\n#### George Mason University\n#### University of Michigan\n#### University of Cambridge\n\n---\nclass: full,middle,center\nbackground-image: url(\"img/all_lines.png\")\nbackground-size: contain\n\n---\nbackground-image: url(\"img/timeline.png\")\nbackground-size: contain\n\n# Some history...\n\n---\nclass: full,middle,center\nbackground-image: url(\"img/chianti_team.png\")\n\n---\n\n# What is ChiantiPy?\n\n* Python interface to the CHIANTI atomic database\n* Perform common calculations with data\n  * Line emission (`ion`)\n  * Continuum emission (`Continuum`)\n  * Ionization equilibrium (`ioneq`)\n  * Composite Spectra (`spectrum`)\n* **NOT** a direct translation of the IDL code, but provides the same capabilities\n* Move from *freely available* to truly *open source*\n  * Make development a community effort, e.g. SunPy and Astropy\n  * Embrace modern developement practices\n* Leverage full power of Python and SciPy stack\n\n---\n\n# Development and Infrastructure\n[![Build Status](https://travis-ci.org/chianti-atomic/ChiantiPy.svg?branch=master)](https://travis-ci.org/chianti-atomic/ChiantiPy)\n[![Documentation Status](http://readthedocs.org/projects/chiantipy/badge/?version=latest)](http://chiantipy.readthedocs.io/en/latest/?badge=latest)\n[![Coverage Status](https://coveralls.io/repos/github/chianti-atomic/ChiantiPy/badge.svg?branch=master)](https://coveralls.io/github/chianti-atomic/ChiantiPy?branch=master)\n\n* Currently **v0.7**, v0.7.1 coming soon\n* Licensed under ISC Software License\n* All development done in the open on GitHub\n  * 17 open issues\n  * 0 to 1 PRs per week (~100 merged in past year)\n* Automatic builds on Travis CI\n  * Python 2.7, 3.4, 3.5 (3.6 coming soon!)\n  * Minimal test suite, but this is a big `TODO`\n* Automatic documentation builds on Read the Docs\n* Test coverage reports via Coveralls\n* Testing and docs infrastructure provided by [`astropy-helpers`](https://github.com/astropy/astropy-helpers)\n\n---\nclass:middle,center\nbackground-image: url(\"img/OA_logo.png\")\nbackground-size: contain\n\n---\n\n# Installation\n#### GitHub (recommended)\n```bash\n$ git clone https://github.com/chianti-atomic/ChiantiPy.git\n$ cd ChiantiPy && python setup.py install\n```\n#### PyPI: \n```bash \n$ pip install ChiantiPy\n```\n#### conda/conda-forge\n* Work in progress\n* Difficulty is the database &ndash; how to make 1.7 GB of data a dependency?\n\n---\n\n# The `ion` Object\n\n.col-8[\n* Ion &ndash; \"building block\" of database\n* Energy levels (`.elvlc`)\n* Transitions between levels (`.wgfa`)\n* *Line emission* from (primarily) collisions between ions and free electrons\n\n```python\nimport numpy as np\nimport ChiantiPy.core as ch\nT = np.logspace(4,8,100)\nn = 1e9\nfe5 = ch.ion('fe_5',temperature=T,\n             eDensity=n)\nfe5.Abundance\nfe5.Elvlc\nfe5.Wgfa\n```\n\n]\n.col-4[\n  <img src=\"img/filetree.png\" width=\"275px\">\n]\n---\nclass: middle\n\n* For a transition between levels `\\(i\\)` and `\\(j\\)` in ion `\\(X_k\\)`,\n\n$$ I = \\frac{1}{4\\pi}0.83\\mathrm{Ab}(X)f\\_{X,k}n\\_j\\frac{1}{N\\_e}\\frac{hc}{\\lambda\\_{ij}}\\mathrm{EM} $$\n\n* Main concern is `\\(n_j\\)`, the level population as a function of temperature/density,\n\n$$ \n\\sum\\_{k>j}n\\_kA\\_{kj} + n\\_e\\sum\\_{i=j}n\\_jC\\_{ij} - \\left(\\sum\\_{i<j}n\\_jA{ji} + n\\_e\\sum\\_{k=j}n\\_jC\\_{jk}\\right) = 0 \n$$\n\n* **Source:** collisional exictation from lower levels, radiative decay from upper levels\n* **Sink:** excitation to higher levels, decay to lower levels\n\n---\n\n```python\nfe5.populate()\nfe5.popPlot(top=50)\nplt.ylim([1e-3,0.5])\n```\n<img src=\"img/pop_plot_fe5.png\" style=\"margin:auto;display:block;\" width=\"650px\">\n\n---\nclass: middle\n\n```python\nimport ChiantiPy.tools.filters as ch_filters\nwavelength = np.arange(2600,2900,0.1)\nfe5.spectrum(wavelength,filter=(ch_filters.lorentz,5))\nfe5.spectrumPlot(index=np.argmax(fe5.IoneqOne))\nplt.ylim([0,3.1e-27])\n```\n<img src=\"img/spec_plot_fe5.png\" style=\"margin:auto;display:block;\" width=\"550px\">\n\n---\n# `Continuum` Module\n* **Free-free** (*bremsstrahlung*)\n\n\\begin{align}\n\\frac{dW}{dtdVd\\lambda} =& \\frac{c}{3m\\_e}\\left(\\frac{\\alpha h}{\\pi}\\right)^3\\left(\\frac{2\\pi}{3m\\_ek\\_B}\\right)^{1/2}\\frac{Z^2}{\\lambda^2T^{1/2}}\\bar{g}\\_{ff} \\\\\\\\\n&\\times\\exp{\\left(-\\frac{hc}{\\lambda k\\_BT}\\right)},\\quad [\\mathrm{erg}\\,\\mathrm{cm}^3\\,\\mathrm{s}^{-1}\\,\\mathrm{\\mathring{A}}^{-1}\\,\\mathrm{str}^{-1}]\n\\end{align}\n\n* **Free-bound**\n\n\\begin{align}\n\\frac{dW}{dtdVd\\lambda} =& \\frac{1}{4\\pi}\\frac{2}{hk\\_Bc^3m\\_e\\sqrt{2\\pi k\\_Bm\\_e}}\\frac{E^5}{T^{3/2}}\\sum\\_i\\frac{\\omega\\_i}{\\omega\\_0}\\sigma\\_i^{bf} \\\\\\\\\n&\\times\\exp\\left(-\\frac{E - I\\_i}{k_BT}\\right),\\quad [\\mathrm{erg}\\,\\mathrm{cm}^3\\,\\mathrm{s}^{-1}\\,\\mathrm{\\mathring{A}}^{-1}\\,\\mathrm{str}^{-1}]\n\\end{align}\n\n---\nclass: middle\n\n```python\nwavelength = np.logspace(0,3,100)\ntemperature = np.logspace(6,8.5,100)\nfe18continuum = ch.Continuum('fe_18',temperature)\nfe18continuum.calculate_free_free_emission(wavelength)\nfe18continuum.calculate_free_bound_emission(wavelength)\n```\n<img src=\"img/continuum.png\" width=\"850px\">\n\n---\n# `ioneq` Module\n\n* Ion charge state (primarily) a function of *temperature*\n* Assuming *ionization equilibrium*, population fraction of ion `\\(i\\)` of element `\\(X\\)` given by,\n\n$$ I\\_{i−1}f\\_{X,i−1} + R\\_if\\_{X,i+1} = I\\_if\\_{X,i} + R\\_{i−1}f\\_{X,i} $$\n\n* **Sink:** ionization from lower levels, recombination from upper levels\n* **Source:** recbombination to lower levels, ionization to upper levels\n* Solve iteratively using ionization (`\\(I_i\\)`) and recombination (`\\(R_i\\)`) from CHIANTI\n* Use data to solve *non-equilibrium ionization* equations as well\n\n---\n\n```python\nioneq_chianti = ch.ioneq('Fe')\nioneq_chianti.load()\n```\nor\n```python\ntemperature = np.logspace(3.5,9.5,500)\nioneq_custom = ch.ioneq('Fe')\nioneq_custom.calculate(temperature)\n```\n<img src=\"img/fe_ioneq.png\" width=\"830px\">\n\n---\nclass:middle,center\n# Applications\n\n---\nclass:middle,center\n\n<img src=\"img/github_pr_snapshot.png\" width=\"800px\">\n<img src=\"img/response_211.png\" width=\"800px\">\n\n---\nclass:middle,center,full\nbackground-image: url(\"img/hinode_eis_fe12_195.gif\")\nbackground-size: contain\n---\nclass:middle\n\n# Resources\n.col-6[\n<a href=\"https://github.com/chianti-atomic/ChiantiPy\">\n<i class=\"fa fa-github-alt fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>chianti-atomic/ChiantiPy</a>\n\n<a href=\"http://chiantipy.readthedocs.io/en/latest/\">\n<i class=\"fa fa-book fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>chiantipy.readthedocs.io</a>\n\n<a href=\"http://www.chiantidatabase.org/\">\n<i class=\"fa fa-globe fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>CHIANTI Webpage</a>\n]\n.col-6[\n<a href=\"https://groups.google.com/forum/#!forum/chianti\">\n<i class=\"fa fa-google fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>CHIANTI Mailing List</a>\n\n<a href=\"http://conference.scipy.org/proceedings/scipy2017/will_barnes.html\">\n<i class=\"fa fa-file-text-o fa-3x\" aria-hidden=\"true\" style=\"vertical-align:middle; padding-right:10px;\"></i>2017 SciPy Proceedings</a>\n]\n---\nclass: middle\n\n# Acknowledgement\n* CHIANTI team \n  * Helen Mason (Cambridge)\n  * Ken Dere (George Mason)\n  * Giulio Del Zanna (Cambridge)\n  * Peter Young (GSFC)\n  * and many more...\n* <img src=\"img/sunpy_logo.svg\" width=\"60px\"> SunPy project\n  * Stuart Mumford (NSO/DKIST)\n  * David Pérez-Suárez (UCL/MSSL)\n* <img src=\"img/astropy_logo.svg\" width=\"40px\"> Astropy project\n* Stephen Bradshaw (Rice)\n\n",
        ratio: '4:3',
        highlightLines: true,
        countIncrementalSlides: false,
        slideNumberFormat: "",
        highlightStyle: 'vs'
      });
    }
    // Mathjax setup
    MathJax.Hub.Config({
          tex2jax: {
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
          }
      });
      MathJax.Hub.Configured();
  </script>
</head>
<body onload="slideshow = create()">
</body>
</html>